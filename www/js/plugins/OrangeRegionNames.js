/*=============================================================================
 * Orange - RegionNames
 * By Hudell - www.hudell.com
 * OrangeRegionNames.js
 * Version: 1.0
 * Free for commercial and non commercial use.
 *=============================================================================*/
/*:
 * @plugindesc Displays the name of the region the player is currently walking on <OrangeRegionNames>
 * @author Hudell
 *
 * @param 1
 * @desc The name of the region 1
 * @default 
 *
 * @param 2
 * @desc The name of the region 2
 * @default 
 *
 * @param 3
 * @desc The name of the region 3
 * @default 
 *
 * @param 4
 * @desc The name of the region 4
 * @default 
 *
 * @param 5
 * @desc The name of the region 5
 * @default 
 *
 * @param 6
 * @desc The name of the region 6
 * @default 
 *
 * @param 7
 * @desc The name of the region 7
 * @default 
 *
 * @param 8
 * @desc The name of the region 8
 * @default 
 *
 * @param 9
 * @desc The name of the region 9
 * @default 
 *
 * @param 10
 * @desc The name of the region 10
 * @default 
 *
 * @param 11
 * @desc The name of the region 11
 * @default 
 *
 * @param 12
 * @desc The name of the region 12
 * @default 
 *
 * @param 13
 * @desc The name of the region 13
 * @default 
 *
 * @param 14
 * @desc The name of the region 14
 * @default 
 *
 * @param 15
 * @desc The name of the region 15
 * @default 
 *
 * @param 16
 * @desc The name of the region 16
 * @default 
 *
 * @param 17
 * @desc The name of the region 17
 * @default 
 *
 * @param 18
 * @desc The name of the region 18
 * @default 
 *
 * @param 19
 * @desc The name of the region 19
 * @default 
 *
 * @param 20
 * @desc The name of the region 20
 * @default 
 *
 * @param 21
 * @desc The name of the region 21
 * @default 
 *
 * @param 22
 * @desc The name of the region 22
 * @default 
 *
 * @param 23
 * @desc The name of the region 23
 * @default 
 *
 * @param 24
 * @desc The name of the region 24
 * @default 
 *
 * @param 25
 * @desc The name of the region 25
 * @default 
 *
 * @param 26
 * @desc The name of the region 26
 * @default 
 *
 * @param 27
 * @desc The name of the region 27
 * @default 
 *
 * @param 28
 * @desc The name of the region 28
 * @default 
 *
 * @param 29
 * @desc The name of the region 29
 * @default 
 *
 * @param 30
 * @desc The name of the region 30
 * @default 
 *
 * @param 31
 * @desc The name of the region 31
 * @default 
 *
 * @param 32
 * @desc The name of the region 32
 * @default 
 *
 * @param 33
 * @desc The name of the region 33
 * @default 
 *
 * @param 34
 * @desc The name of the region 34
 * @default 
 *
 * @param 35
 * @desc The name of the region 35
 * @default 
 *
 * @param 36
 * @desc The name of the region 36
 * @default 
 *
 * @param 37
 * @desc The name of the region 37
 * @default 
 *
 * @param 38
 * @desc The name of the region 38
 * @default 
 *
 * @param 39
 * @desc The name of the region 39
 * @default 
 *
 * @param 40
 * @desc The name of the region 40
 * @default 
 *
 * @param 41
 * @desc The name of the region 41
 * @default 
 *
 * @param 42
 * @desc The name of the region 42
 * @default 
 *
 * @param 43
 * @desc The name of the region 43
 * @default 
 *
 * @param 44
 * @desc The name of the region 44
 * @default 
 *
 * @param 45
 * @desc The name of the region 45
 * @default 
 *
 * @param 46
 * @desc The name of the region 46
 * @default 
 *
 * @param 47
 * @desc The name of the region 47
 * @default 
 *
 * @param 48
 * @desc The name of the region 48
 * @default 
 *
 * @param 49
 * @desc The name of the region 49
 * @default 
 *
 * @param 50
 * @desc The name of the region 50
 * @default 
 *
 * @param 51
 * @desc The name of the region 51
 * @default 
 *
 * @param 52
 * @desc The name of the region 52
 * @default 
 *
 * @param 53
 * @desc The name of the region 53
 * @default 
 *
 * @param 54
 * @desc The name of the region 54
 * @default 
 *
 * @param 55
 * @desc The name of the region 55
 * @default 
 *
 * @param 56
 * @desc The name of the region 56
 * @default 
 *
 * @param 57
 * @desc The name of the region 57
 * @default 
 *
 * @param 58
 * @desc The name of the region 58
 * @default 
 *
 * @param 59
 * @desc The name of the region 59
 * @default 
 *
 * @param 60
 * @desc The name of the region 60
 * @default 
 *
 * @param 61
 * @desc The name of the region 61
 * @default 
 *
 * @param 62
 * @desc The name of the region 62
 * @default 
 *
 * @param 63
 * @desc The name of the region 63
 * @default 
 *
 * @param 64
 * @desc The name of the region 64
 * @default 
 *
 * @param 65
 * @desc The name of the region 65
 * @default 
 *
 * @param 66
 * @desc The name of the region 66
 * @default 
 *
 * @param 67
 * @desc The name of the region 67
 * @default 
 *
 * @param 68
 * @desc The name of the region 68
 * @default 
 *
 * @param 69
 * @desc The name of the region 69
 * @default 
 *
 * @param 70
 * @desc The name of the region 70
 * @default 
 *
 * @param 71
 * @desc The name of the region 71
 * @default 
 *
 * @param 72
 * @desc The name of the region 72
 * @default 
 *
 * @param 73
 * @desc The name of the region 73
 * @default 
 *
 * @param 74
 * @desc The name of the region 74
 * @default 
 *
 * @param 75
 * @desc The name of the region 75
 * @default 
 *
 * @param 76
 * @desc The name of the region 76
 * @default 
 *
 * @param 77
 * @desc The name of the region 77
 * @default 
 *
 * @param 78
 * @desc The name of the region 78
 * @default 
 *
 * @param 79
 * @desc The name of the region 79
 * @default 
 *
 * @param 80
 * @desc The name of the region 80
 * @default 
 *
 * @param 81
 * @desc The name of the region 81
 * @default 
 *
 * @param 82
 * @desc The name of the region 82
 * @default 
 *
 * @param 83
 * @desc The name of the region 83
 * @default 
 *
 * @param 84
 * @desc The name of the region 84
 * @default 
 *
 * @param 85
 * @desc The name of the region 85
 * @default 
 *
 * @param 86
 * @desc The name of the region 86
 * @default 
 *
 * @param 87
 * @desc The name of the region 87
 * @default 
 *
 * @param 88
 * @desc The name of the region 88
 * @default 
 *
 * @param 89
 * @desc The name of the region 89
 * @default 
 *
 * @param 90
 * @desc The name of the region 90
 * @default 
 *
 * @param 91
 * @desc The name of the region 91
 * @default 
 *
 * @param 92
 * @desc The name of the region 92
 * @default 
 *
 * @param 93
 * @desc The name of the region 93
 * @default 
 *
 * @param 94
 * @desc The name of the region 94
 * @default 
 *
 * @param 95
 * @desc The name of the region 95
 * @default 
 *
 * @param 96
 * @desc The name of the region 96
 * @default 
 *
 * @param 97
 * @desc The name of the region 97
 * @default 
 *
 * @param 98
 * @desc The name of the region 98
 * @default 
 *
 * @param 99
 * @desc The name of the region 99
 * @default 
 *
 * @param 00
 * @desc The name of the region 00
 * @default 
 *
 * @param 101
 * @desc The name of the region 101
 * @default 
 *
 * @param 102
 * @desc The name of the region 102
 * @default 
 *
 * @param 103
 * @desc The name of the region 103
 * @default 
 *
 * @param 104
 * @desc The name of the region 104
 * @default 
 *
 * @param 105
 * @desc The name of the region 105
 * @default 
 *
 * @param 106
 * @desc The name of the region 106
 * @default 
 *
 * @param 107
 * @desc The name of the region 107
 * @default 
 *
 * @param 108
 * @desc The name of the region 108
 * @default 
 *
 * @param 109
 * @desc The name of the region 109
 * @default 
 *
 * @param 110
 * @desc The name of the region 110
 * @default 
 *
 * @param 111
 * @desc The name of the region 111
 * @default 
 *
 * @param 112
 * @desc The name of the region 112
 * @default 
 *
 * @param 113
 * @desc The name of the region 113
 * @default 
 *
 * @param 114
 * @desc The name of the region 114
 * @default 
 *
 * @param 115
 * @desc The name of the region 115
 * @default 
 *
 * @param 116
 * @desc The name of the region 116
 * @default 
 *
 * @param 117
 * @desc The name of the region 117
 * @default 
 *
 * @param 118
 * @desc The name of the region 118
 * @default 
 *
 * @param 119
 * @desc The name of the region 119
 * @default 
 *
 * @param 120
 * @desc The name of the region 120
 * @default 
 *
 * @param 121
 * @desc The name of the region 121
 * @default 
 *
 * @param 122
 * @desc The name of the region 122
 * @default 
 *
 * @param 123
 * @desc The name of the region 123
 * @default 
 *
 * @param 124
 * @desc The name of the region 124
 * @default 
 *
 * @param 125
 * @desc The name of the region 125
 * @default 
 *
 * @param 126
 * @desc The name of the region 126
 * @default 
 *
 * @param 127
 * @desc The name of the region 127
 * @default 
 *
 * @param 128
 * @desc The name of the region 128
 * @default 
 *
 * @param 129
 * @desc The name of the region 129
 * @default 
 *
 * @param 130
 * @desc The name of the region 130
 * @default 
 *
 * @param 131
 * @desc The name of the region 131
 * @default 
 *
 * @param 132
 * @desc The name of the region 132
 * @default 
 *
 * @param 133
 * @desc The name of the region 133
 * @default 
 *
 * @param 134
 * @desc The name of the region 134
 * @default 
 *
 * @param 135
 * @desc The name of the region 135
 * @default 
 *
 * @param 136
 * @desc The name of the region 136
 * @default 
 *
 * @param 137
 * @desc The name of the region 137
 * @default 
 *
 * @param 138
 * @desc The name of the region 138
 * @default 
 *
 * @param 139
 * @desc The name of the region 139
 * @default 
 *
 * @param 140
 * @desc The name of the region 140
 * @default 
 *
 * @param 141
 * @desc The name of the region 141
 * @default 
 *
 * @param 142
 * @desc The name of the region 142
 * @default 
 *
 * @param 143
 * @desc The name of the region 143
 * @default 
 *
 * @param 144
 * @desc The name of the region 144
 * @default 
 *
 * @param 145
 * @desc The name of the region 145
 * @default 
 *
 * @param 146
 * @desc The name of the region 146
 * @default 
 *
 * @param 147
 * @desc The name of the region 147
 * @default 
 *
 * @param 148
 * @desc The name of the region 148
 * @default 
 *
 * @param 149
 * @desc The name of the region 149
 * @default 
 *
 * @param 150
 * @desc The name of the region 150
 * @default 
 *
 * @param 151
 * @desc The name of the region 151
 * @default 
 *
 * @param 152
 * @desc The name of the region 152
 * @default 
 *
 * @param 153
 * @desc The name of the region 153
 * @default 
 *
 * @param 154
 * @desc The name of the region 154
 * @default 
 *
 * @param 155
 * @desc The name of the region 155
 * @default 
 *
 * @param 156
 * @desc The name of the region 156
 * @default 
 *
 * @param 157
 * @desc The name of the region 157
 * @default 
 *
 * @param 158
 * @desc The name of the region 158
 * @default 
 *
 * @param 159
 * @desc The name of the region 159
 * @default 
 *
 * @param 160
 * @desc The name of the region 160
 * @default 
 *
 * @param 161
 * @desc The name of the region 161
 * @default 
 *
 * @param 162
 * @desc The name of the region 162
 * @default 
 *
 * @param 163
 * @desc The name of the region 163
 * @default 
 *
 * @param 164
 * @desc The name of the region 164
 * @default 
 *
 * @param 165
 * @desc The name of the region 165
 * @default 
 *
 * @param 166
 * @desc The name of the region 166
 * @default 
 *
 * @param 167
 * @desc The name of the region 167
 * @default 
 *
 * @param 168
 * @desc The name of the region 168
 * @default 
 *
 * @param 169
 * @desc The name of the region 169
 * @default 
 *
 * @param 170
 * @desc The name of the region 170
 * @default 
 *
 * @param 171
 * @desc The name of the region 171
 * @default 
 *
 * @param 172
 * @desc The name of the region 172
 * @default 
 *
 * @param 173
 * @desc The name of the region 173
 * @default 
 *
 * @param 174
 * @desc The name of the region 174
 * @default 
 *
 * @param 175
 * @desc The name of the region 175
 * @default 
 *
 * @param 176
 * @desc The name of the region 176
 * @default 
 *
 * @param 177
 * @desc The name of the region 177
 * @default 
 *
 * @param 178
 * @desc The name of the region 178
 * @default 
 *
 * @param 179
 * @desc The name of the region 179
 * @default 
 *
 * @param 180
 * @desc The name of the region 180
 * @default 
 *
 * @param 181
 * @desc The name of the region 181
 * @default 
 *
 * @param 182
 * @desc The name of the region 182
 * @default 
 *
 * @param 183
 * @desc The name of the region 183
 * @default 
 *
 * @param 184
 * @desc The name of the region 184
 * @default 
 *
 * @param 185
 * @desc The name of the region 185
 * @default 
 *
 * @param 186
 * @desc The name of the region 186
 * @default 
 *
 * @param 187
 * @desc The name of the region 187
 * @default 
 *
 * @param 188
 * @desc The name of the region 188
 * @default 
 *
 * @param 189
 * @desc The name of the region 189
 * @default 
 *
 * @param 190
 * @desc The name of the region 190
 * @default 
 *
 * @param 191
 * @desc The name of the region 191
 * @default 
 *
 * @param 192
 * @desc The name of the region 192
 * @default 
 *
 * @param 193
 * @desc The name of the region 193
 * @default 
 *
 * @param 194
 * @desc The name of the region 194
 * @default 
 *
 * @param 195
 * @desc The name of the region 195
 * @default 
 *
 * @param 196
 * @desc The name of the region 196
 * @default 
 *
 * @param 197
 * @desc The name of the region 197
 * @default 
 *
 * @param 198
 * @desc The name of the region 198
 * @default 
 *
 * @param 199
 * @desc The name of the region 199
 * @default 
 *
 * @param 200
 * @desc The name of the region 200
 * @default 
 *
 * @param 201
 * @desc The name of the region 201
 * @default 
 *
 * @param 202
 * @desc The name of the region 202
 * @default 
 *
 * @param 203
 * @desc The name of the region 203
 * @default 
 *
 * @param 204
 * @desc The name of the region 204
 * @default 
 *
 * @param 205
 * @desc The name of the region 205
 * @default 
 *
 * @param 206
 * @desc The name of the region 206
 * @default 
 *
 * @param 207
 * @desc The name of the region 207
 * @default 
 *
 * @param 208
 * @desc The name of the region 208
 * @default 
 *
 * @param 209
 * @desc The name of the region 209
 * @default 
 *
 * @param 210
 * @desc The name of the region 210
 * @default 
 *
 * @param 211
 * @desc The name of the region 211
 * @default 
 *
 * @param 212
 * @desc The name of the region 212
 * @default 
 *
 * @param 213
 * @desc The name of the region 213
 * @default 
 *
 * @param 214
 * @desc The name of the region 214
 * @default 
 *
 * @param 215
 * @desc The name of the region 215
 * @default 
 *
 * @param 216
 * @desc The name of the region 216
 * @default 
 *
 * @param 217
 * @desc The name of the region 217
 * @default 
 *
 * @param 218
 * @desc The name of the region 218
 * @default 
 *
 * @param 219
 * @desc The name of the region 219
 * @default 
 *
 * @param 220
 * @desc The name of the region 220
 * @default 
 *
 * @param 221
 * @desc The name of the region 221
 * @default 
 *
 * @param 222
 * @desc The name of the region 222
 * @default 
 *
 * @param 223
 * @desc The name of the region 223
 * @default 
 *
 * @param 224
 * @desc The name of the region 224
 * @default 
 *
 * @param 225
 * @desc The name of the region 225
 * @default 
 *
 * @param 226
 * @desc The name of the region 226
 * @default 
 *
 * @param 227
 * @desc The name of the region 227
 * @default 
 *
 * @param 228
 * @desc The name of the region 228
 * @default 
 *
 * @param 229
 * @desc The name of the region 229
 * @default 
 *
 * @param 230
 * @desc The name of the region 230
 * @default 
 *
 * @param 231
 * @desc The name of the region 231
 * @default 
 *
 * @param 232
 * @desc The name of the region 232
 * @default 
 *
 * @param 233
 * @desc The name of the region 233
 * @default 
 *
 * @param 234
 * @desc The name of the region 234
 * @default 
 *
 * @param 235
 * @desc The name of the region 235
 * @default 
 *
 * @param 236
 * @desc The name of the region 236
 * @default 
 *
 * @param 237
 * @desc The name of the region 237
 * @default 
 *
 * @param 238
 * @desc The name of the region 238
 * @default 
 *
 * @param 239
 * @desc The name of the region 239
 * @default 
 *
 * @param 240
 * @desc The name of the region 240
 * @default 
 *
 * @param 241
 * @desc The name of the region 241
 * @default 
 *
 * @param 242
 * @desc The name of the region 242
 * @default 
 *
 * @param 243
 * @desc The name of the region 243
 * @default 
 *
 * @param 244
 * @desc The name of the region 244
 * @default 
 *
 * @param 245
 * @desc The name of the region 245
 * @default 
 *
 * @param 246
 * @desc The name of the region 246
 * @default 
 *
 * @param 247
 * @desc The name of the region 247
 * @default 
 *
 * @param 248
 * @desc The name of the region 248
 * @default 
 *
 * @param 249
 * @desc The name of the region 249
 * @default 
 *
 * @param 250
 * @desc The name of the region 250
 * @default 
 *
 * @param 251
 * @desc The name of the region 251
 * @default 
 *
 * @param 252
 * @desc The name of the region 252
 * @default 
 *
 * @param 253
 * @desc The name of the region 253
 * @default 
 *
 * @param 254
 * @desc The name of the region 254
 * @default 
 *
 * @param 255
 * @desc The name of the region 255
 * @default 
 *
 * @help
 * ============================================================================
 * Hudell's Plugins
 * ============================================================================
 * 
 * Check out my website:
 * http://hudell.com
 * 
 *=============================================================================*/
var Imported = Imported || {};
var Hudell = Hudell || {};
Hudell.OrangeRegionNames = Hudell.OrangeRegionNames || {};

function Window_RegionName() {
  this.initialize.apply(this, arguments);
}
Window_RegionName.prototype = Object.create(Window_MapName.prototype);
Window_RegionName.prototype.constructor = Window_RegionName;

(function($) {
  "use strict";

  var parameters = $plugins.filter(function(plugin) { return plugin.description.contains('<OrangeRegionNames>'); });
  if (parameters.length === 0) {
    throw new Error("Couldn't find Hudell's OrangeRegionNames parameters.");
  }
  $.Parameters = parameters[0].parameters;
  $.RegionNames = {};

  for (var i = 1; i <= 255; i++) {
    $.RegionNames[i] = $.Parameters[i] || "";
  }

  $.getRegionName = function(regionId) {
    return ($.RegionNames[regionId] || "").trim();
  };

  Window_RegionName.prototype.refresh = function() {
    this.contents.clear();

    var regionId = this._currentRegionId || 0;
    // var regionId = $gameMap.regionId($gamePlayer._x, $gamePlayer._y);
    if (regionId > 0) {
      var regionName = $.getRegionName(regionId);
      if (regionName) {
        var width = this.contentsWidth();
        this.drawBackground(0, 0, width, this.lineHeight());
        this.drawText(regionName, 0, 0, width, 'center');
      }
    }
  };

  Window_RegionName.prototype.update = function() {
    var regionId = $gameMap.regionId($gamePlayer._x, $gamePlayer._y);

    if (regionId !== this._currentRegionId) {
      this._currentRegionId = regionId;
      this.open();
    } else {
      Window_MapName.prototype.update.call(this);
    }
  };

  Scene_Map.prototype.createRegionNameWindow = function(){
    this._regionNameWindow = new Window_RegionName();
    this.addChild(this._regionNameWindow);    
  };

  $.oldSceneMap_createMapNameWindow = Scene_Map.prototype.createMapNameWindow;
  Scene_Map.prototype.createMapNameWindow = function() {
    $.oldSceneMap_createMapNameWindow.call(this);
    this.createRegionNameWindow.call(this);
  };

  $.oldSceneMap_updateTransferPlayer = Scene_Map.prototype.updateTransferPlayer;
  Scene_Map.prototype.updateTransferPlayer = function() {
    if ($gamePlayer.isTransferring()) {
      this._regionNameWindow.close();
    }

    $.oldSceneMap_updateTransferPlayer.call(this);
    this._regionNameWindow.update();
  };

  $.oldSceneMap_callMenu = Scene_Map.prototype.callMenu;
  Scene_Map.prototype.callMenu = function() {
    $.oldSceneMap_callMenu.call(this);
    this._regionNameWindow.hide();
  };

  $.oldSceneMap_launchBattle = Scene_Map.prototype.launchBattle;
  Scene_Map.prototype.launchBattle = function() {
    $.oldSceneMap_launchBattle.call(this);
    this._regionNameWindow.hide();
  };

  $.oldSceneMap_stop = Scene_Map.prototype.stop;
  Scene_Map.prototype.stop = function() {
    this._regionNameWindow.close();
    $.oldSceneMap_stop.call(this);
  };


})(Hudell.OrangeRegionNames);

OrangeRegionNames = Hudell.OrangeRegionNames;
Imported["OrangeRegionNames"] = 1.0;